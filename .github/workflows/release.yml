name: Release

on:
    push:
        branches:
            - main

permissions:
    contents: write
    pull-requests: write
    packages: write
    checks: read

jobs:
    release:
        uses: octopus-synapse/octopus-workflows/.github/workflows/release-npm-package.yml@main
        with:
            package-name: "@octopus-synapse/profile-contracts"
            wait-for-ci-checks: false
            bun-version: "latest"
        secrets:
            # Use org-level GH_PAT secret with write:packages permission
            GH_PAT: ${{ secrets.GH_PAT }}
